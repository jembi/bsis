<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

  <changeSet id="20170117-1429" author="jmuzinda">
    <!-- Add tracking fields to DeferralReason -->
    <addColumn tableName="DeferralReason">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_DeferralReason_createdBy" references="User(id)" />  
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_DeferralReason_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1430" author="jmuzinda">
    <!-- Add tracking fields to DeferralReason_AUD -->
    <addColumn tableName="DeferralReason_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1431" author="jmuzinda">
    <comment>Update DeferralReason tracking fields</comment>
    <update tableName="DeferralReason">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="DeferralReason_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1432" author="jmuzinda">
    <comment>Make tracking columns on DeferralReason not nullable</comment>
    <addNotNullConstraint tableName="DeferralReason" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="DeferralReason" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="DeferralReason" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="DeferralReason" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1026" author="jmuzinda">
    <!-- Add tracking fields to User -->
    <addColumn tableName="User">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_User_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_User_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1031" author="jmuzinda">
    <!-- Add tracking fields to User_AUD -->
    <addColumn tableName="User_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1032" author="jmuzinda">
    <comment>Update User and User_AUD tracking fields</comment>
    <update tableName="User">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="User_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1033" author="jmuzinda">
    <comment>Make tracking columns on User not nullable</comment>
    <addNotNullConstraint tableName="User" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="User" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="User" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="User" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1548" author="jmuzinda">
    <!-- Add tracking fields to AdverseEvent -->
    <addColumn tableName="AdverseEvent">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_AdverseEvent_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_AdverseEvent_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1549" author="jmuzinda">
    <!-- Add tracking fields to AdverseEvent_AUD -->
    <addColumn tableName="AdverseEvent_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1550" author="jmuzinda">
    <comment>Update AdverseEvent tracking fields</comment>
    <update tableName="AdverseEvent">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="AdverseEvent_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1551" author="jmuzinda">
    <comment>Make tracking columns on AdverseEvent not nullable</comment>
    <addNotNullConstraint tableName="AdverseEvent" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="AdverseEvent" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="AdverseEvent" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="AdverseEvent" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1445" author="jmuzinda">
    <!-- Add tracking fields to DonationType -->
    <addColumn tableName="DonationType">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_DonationType_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_DonationType_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1446" author="jmuzinda">
    <!-- Add tracking fields to DonationType_AUD -->
    <addColumn tableName="DonationType_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1447" author="jmuzinda">
    <comment>Update DonationType tracking fields</comment>
    <update tableName="DonationType">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="DonationType_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1448" author="jmuzinda">
    <comment>Make tracking columns on DonationType not nullable</comment>
    <addNotNullConstraint tableName="DonationType" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="DonationType" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="DonationType" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="DonationType" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1107" author="jmuzinda">
    <!-- Add tracking fields to Location -->
    <addColumn tableName="Location">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_Location_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_Location_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1108" author="jmuzinda">
    <!-- Add tracking fields to Location_AUD -->
    <addColumn tableName="Location_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1109" author="jmuzinda">
    <comment>Update Location tracking fields</comment>
    <update tableName="Location">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="Location_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1110" author="jmuzinda">
    <comment>Make tracking columns on Location not nullable</comment>
    <addNotNullConstraint tableName="Location" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="Location" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="Location" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="Location" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1543" author="jmuzinda">
    <!-- Add tracking fields to PackType -->
    <addColumn tableName="PackType">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_PackType_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_PackType_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1544" author="jmuzinda">
    <!-- Add tracking fields to PackType_AUD -->
    <addColumn tableName="PackType_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1545" author="jmuzinda">
    <comment>Update PackType tracking fields</comment>
    <update tableName="PackType">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="PackType_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1546" author="jmuzinda">
    <comment>Make tracking columns on PackType not nullable</comment>
    <addNotNullConstraint tableName="PackType" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="PackType" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="PackType" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="PackType" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170117-1601" author="jmuzinda">
    <!-- Add tracking fields to Role -->
    <addColumn tableName="Role">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_Role_createdBy" references="User(id)" />
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_Role_lastUpdatedBy" references="User(id)" />
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1602" author="jmuzinda">
    <!-- Add tracking fields to Role_AUD -->
    <addColumn tableName="Role_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170117-1603" author="jmuzinda">
    <comment>Update Role tracking fields</comment>
    <update tableName="Role">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="Role_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170117-1604" author="jmuzinda">
    <comment>Make tracking columns on Role not nullable</comment>
    <addNotNullConstraint tableName="Role" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="Role" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="Role" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="Role" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
  
  <changeSet id="20170119-0901" author="jmuzinda">
    <comment>Create GeneralConfig_AUD table</comment>
    <createTable tableName="GeneralConfig_AUD">
      <column name="id" type="BIGINT(20)" autoIncrement="true">
        <constraints primaryKey="true" />    
      </column>
      <column name="name" type="VARCHAR(255)">
        <constraints nullable="false" />    
      </column>
      <column name="value" type="text">
        <constraints nullable="false" />    
      </column>
      <column name="description" type="text">
        <constraints nullable="false" />    
      </column>
      <column name="dataType_id" type="BIGINT(20)">
        <constraints nullable="false" />    
      </column>
    </createTable>
  </changeSet>
  
  <changeSet id="20170119-1030" author="jmuzinda">
    <!-- Add tracking fields to GeneralConfig -->
    <addColumn tableName="GeneralConfig">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_GeneralConfig_createdBy" references="User(id)" />    
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
        <constraints foreignKeyName="fk_GeneralConfig_lastUpdatedBy" references="User(id)" />       
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170119-1032" author="jmuzinda">
    <!-- Add tracking fields to GeneralConfig_AUD -->
    <addColumn tableName="GeneralConfig_AUD">
      <column name="createdDate" type="TIMESTAMP" />
      <column name="createdBy_id" type="BIGINT(20)">
      </column>
      <column name="lastUpdated" type="TIMESTAMP" />
      <column name="lastUpdatedBy_id" type="BIGINT(20)">
      </column>
    </addColumn>
  </changeSet>

  <changeSet id="20170119-1056" author="jmuzinda">
    <comment>Update GeneralConfig and GeneralConfig_AUD tracking fields</comment>
    <update tableName="GeneralConfig">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
    <update tableName="GeneralConfig_AUD">
      <column name="createdDate" valueComputed="CURRENT_TIMESTAMP" />
      <column name="createdBy_id" valueNumeric="1" />
      <column name="lastUpdated" valueComputed="CURRENT_TIMESTAMP" />
      <column name="lastUpdatedBy_id" valueNumeric="1" />
    </update>
  </changeSet>
  
  <changeSet id="20170119-1604" author="jmuzinda">
    <comment>Make tracking columns on GeneralConfig not nullable</comment>
    <addNotNullConstraint tableName="GeneralConfig" columnName="createdDate" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="GeneralConfig" columnName="createdBy_id" columnDataType="BIGINT(20)" />
    <addNotNullConstraint tableName="GeneralConfig" columnName="lastUpdated" columnDataType="TIMESTAMP" />
    <addNotNullConstraint tableName="GeneralConfig" columnName="lastUpdatedBy_id" columnDataType="BIGINT(20)" />
  </changeSet>
    
</databaseChangeLog>
